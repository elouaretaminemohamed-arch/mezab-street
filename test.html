<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¯Ù„ÙŠÙ„ Ø´Ø§Ø±Ø¹ Ù…Ø²Ø§Ø¨ Ø§Ù„Ø±Ù‚Ù…ÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --main: #2c3e50; --gold: #d4af37; --white: #ffffff; }
        body { font-family: 'Cairo', sans-serif; margin: 0; background: #f0f2f5; }
        header { background: var(--main); color: white; padding: 20px; text-align: center; }
        
        .container { max-width: 1000px; margin: 20px auto; padding: 10px; }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ø­Ù„Ø§Øª */
        .shops-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; }
        .shop-card { background: white; padding: 20px; border-radius: 15px; text-align: center; cursor: pointer; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: 0.3s; }
        .shop-card:hover { transform: scale(1.05); border: 2px solid var(--gold); }
        .shop-card i { font-size: 40px; display: block; margin-bottom: 10px; }

        /* ØµÙØ­Ø© Ø§Ù„Ø³Ù„Ø¹ */
        #products-page { display: none; }
        .back-btn { background: #666; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; margin-bottom: 20px; }
        .products-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .product-item { background: white; padding: 15px; border-radius: 10px; text-align: center; }
        .product-item img { width: 100%; border-radius: 5px; height: 150px; object-fit: cover; }

        /* Ø§Ù„Ø³Ù„Ø© */
        .cart-float { position: fixed; bottom: 0; width: 100%; background: white; padding: 15px; box-shadow: 0 -5px 15px rgba(0,0,0,0.1); display: none; justify-content: space-around; align-items: center; border-radius: 20px 20px 0 0; }
        .btn-send { background: #25d366; color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <h1>ğŸ›ï¸ Ø´Ø§Ø±Ø¹ Ù…Ø²Ø§Ø¨ Ù„Ù„ØªØ³ÙˆÙ‚</h1>
    <p id="sub-title">Ø§Ø®ØªØ± Ù…Ø­Ù„Ø§Ù‹ Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ³ÙˆÙ‚</p>
</header>

<div class="container">
    <div id="shops-page" class="shops-grid">
        </div>

    <div id="products-page">
        <button class="back-btn" onclick="showShops()">â¬… Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø­Ù„Ø§Øª</button>
        <h2 id="current-shop-name">Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù„</h2>
        <div id="products-list" class="products-grid"></div>
    </div>
</div>

<div id="cart-float" class="cart-float">
    <div>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ù„Ø©: <span id="cart-total">0</span> Ø¯.Ø¬</div>
    <a href="#" class="btn-send" onclick="sendToShopWhatsApp()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ù…Ø­Ù„</a>
</div>

<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„Ø§Øª (ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„Ø£Ø³Ù…Ø§Ø¡)
    const shops = [
        { id: 1, name: "Ù…Ø­Ù„ Ø§Ù„Ø£Ù†Ø§Ù‚Ø©", phone: "213777661460", icon: "ğŸ‘•" },
        { id: 2, name: "Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª Ù…Ø²Ø§Ø¨", phone: "213777661460", icon: "ğŸ“±" },
        { id: 3, name: "Ø¹Ø·ÙˆØ± Ø§Ù„Ù‡Ø¯Ù‰", phone: "213777661460", icon: "âœ¨" },
        // ... Ø£Ø¶Ù Ø­ØªÙ‰ 10 Ù…Ø­Ù„Ø§Øª Ø¨Ù†ÙØ³ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©
    ];

    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„ÙƒÙ„ Ù…Ø­Ù„
    const allProducts = {
        1: [ { name: "Ù‚Ù…ÙŠØµ", price: 3000, img: "https://via.placeholder.com/150" }, { name: "Ø³Ø±ÙˆØ§Ù„", price: 4000, img: "https://via.placeholder.com/150" } ],
        2: [ { name: "Ø³Ù…Ø§Ø¹Ø§Øª", price: 1500, img: "https://via.placeholder.com/150" }, { name: "Ø´Ø§Ø­Ù†", price: 2000, img: "https://via.placeholder.com/150" } ]
    };

    let currentShop = null;
    let cart = [];

    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­
    function initShops() {
        const grid = document.getElementById('shops-page');
        shops.forEach(shop => {
            grid.innerHTML += `
                <div class="shop-card" onclick="openShop(${shop.id})">
                    <i>${shop.icon}</i>
                    <strong>${shop.name}</strong>
                </div>
            `;
        });
    }

    function openShop(shopId) {
        currentShop = shops.find(s => s.id === shopId);
        cart = []; // ØªØµÙÙŠØ± Ø§Ù„Ø³Ù„Ø© ÙÙˆØ± Ø¯Ø®ÙˆÙ„ Ù…Ø­Ù„ Ø¬Ø¯ÙŠØ¯
        updateUI();
        
        document.getElementById('shops-page').style.display = 'none';
        document.getElementById('products-page').style.display = 'block';
        document.getElementById('current-shop-name').innerText = currentShop.name;

        const pList = document.getElementById('products-list');
        pList.innerHTML = '';
        (allProducts[shopId] || []).forEach(p => {
            pList.innerHTML += `
                <div class="product-item">
                    <img src="${p.img}">
                    <h4>${p.name}</h4>
                    <p>${p.price} Ø¯.Ø¬</p>
                    <button onclick="addToCart('${p.name}', ${p.price})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
                </div>
            `;
        });
    }

    function addToCart(name, price) {
        cart.push({ name, price });
        updateUI();
    }

    function updateUI() {
        const total = cart.reduce((sum, item) => sum + item.price, 0);
        document.getElementById('cart-total').innerText = total;
        document.getElementById('cart-float').style.display = cart.length > 0 ? 'flex' : 'none';
    }

    function showShops() {
        document.getElementById('shops-page').style.display = 'grid';
        document.getElementById('products-page').style.display = 'none';
        document.getElementById('cart-float').style.display = 'none';
        cart = []; // ØªØµÙÙŠØ± Ø§Ù„Ø³Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¹ÙˆØ¯Ø©
    }

    function sendToShopWhatsApp() {
        let text = `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø²Ø¨ÙˆÙ† Ù„Ù€ (${currentShop.name}):\n`;
        cart.forEach(item => text += `- ${item.name} (${item.price}Ø¯Ø¬)\n`);
        const total = cart.reduce((sum, item) => sum + item.price, 0);
        text += `\nØ§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ: ${total} Ø¯.Ø¬`;

        window.location.href = `https://api.whatsapp.com/send?phone=${currentShop.phone}&text=${encodeURIComponent(text)}`;
    }

    initShops();
</script>

</body>
</html>